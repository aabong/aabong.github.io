(this["webpackJsonpaabong.github.io"]=this["webpackJsonpaabong.github.io"]||[]).push([[0],{21:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAjSURBVDhPY2SAgf///0NZeAETlCYajGogBoxqIAbQWgMDAwA6iAMd4rZttQAAAABJRU5ErkJggg=="},22:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAeSURBVDhPY/z//z8DKYAJShMNRjUQA0akhkEHGBgAUyEDF9+20Z0AAAAASUVORK5CYII="},23:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAlSURBVDhPY/z//z8DEYCRkRHCYIJQxINRDcSAUQ3EAFprYGAAAF4iAyBdcQELAAAAAElFTkSuQmCC"},24:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAgSURBVDhPYxh8gPH///9QJnGACUoTDUY1EANGoAYGBgCNYQMXBXnadAAAAABJRU5ErkJggg=="},34:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZSURBVDhPY/hPIhjVQAwY1UAMGHQa/v8HAK+t/R8kTA7nAAAAAElFTkSuQmCC"},35:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAiSURBVDhPY2SAgf///0NZeAETlCYajGogBoxIDYMOMDAAADg8AxeOvTxoAAAAAElFTkSuQmCC"},36:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAnSURBVDhPY2SAgf///0NZ2AAjI1QlE4QiHoxqIAaMaiAG0FoDAwMAQz0DIILXLPsAAAAASUVORK5CYII="},37:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAjSURBVDhPY/z//z8DEYCRkRHCYIJQxINRDcSAEalh0AEGBgBb1gMaLsA0dQAAAABJRU5ErkJggg=="},38:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAmSURBVDhPY2SAgf///0NZ2AAjI1QlE4QiHoxqIAaMSA2DDjAwAABA8QMa1K1fNQAAAABJRU5ErkJggg=="},39:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAkSURBVDhPYxh8gBFKMzD8//8fysILmKA00WBUAzFgBGpgYAAAcnwDF+BzZ3EAAAAASUVORK5CYII="},40:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAiSURBVDhPYxh8gPH///9QJnGACUoTDUY1EANor2HQAQYGAIsVAxGJlvRqAAAAAElFTkSuQmCC"},41:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAmSURBVDhPYxh8gBFKMzD8//8fysILmKA00WBUAzGA9hoGHWBgAABwMAMRpbOiOAAAAABJRU5ErkJggg=="},42:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAlSURBVDhPYxh8gPH///9QJl7AyMgIYTBBKOLBqAZiwAjUwMAAAJRdAxqzUKNTAAAAAElFTkSuQmCC"},43:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAoSURBVDhPYxh8gBFKMzD8//8fysIGGBmhKpkgFPFgVAMxYARqYGAAAHl4AxqqAdFyAAAAAElFTkSuQmCC"},44:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAnSURBVDhPYxh8gPH///9QJl7AyMgIYTBBKOLBqAZiAO01DDrAwAAAkhEDFB0wL28AAAAASUVORK5CYII="},45:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAqSURBVDhPYxh8gBFKMzD8//8fysIGGBmhKpkgFPFgVAMxgPYaBh1gYAAAdywDFMOC/kIAAAAASUVORK5CYII="},54:function(t){t.exports=JSON.parse('[[0,{"name":"Go Left","isAccept":false,"transitions":[[0,{"state":0,"direction":"Left","nextState":0}],[2,{"state":0,"direction":"Left","nextState":0}],[4,{"state":0,"direction":"Left","nextState":0}],[6,{"state":0,"direction":"Left","nextState":0}],[8,{"state":0,"direction":"Left","nextState":0}],[10,{"state":0,"direction":"Left","nextState":0}],[12,{"state":0,"direction":"Left","nextState":0}],[14,{"state":0,"direction":"Left","nextState":0}],[1,{"state":0,"direction":"Down","nextState":1}],[3,{"state":0,"direction":"Right","nextState":2}],[5,{"state":0,"direction":"Down","nextState":1}],[7,{"state":0,"direction":"Up","nextState":3}],[9,{"state":0,"direction":"Down","nextState":1}],[11,{"state":0,"direction":"Right","nextState":2}],[13,{"state":0,"direction":"Down","nextState":1}],[15,{"state":0,"direction":"Stay","nextState":6}]]}],[1,{"name":"Go Down","isAccept":false,"transitions":[[1,{"state":1,"direction":"Down","nextState":1}],[3,{"state":1,"direction":"Right","nextState":2}],[5,{"state":1,"direction":"Down","nextState":1}],[7,{"state":1,"direction":"Up","nextState":3}]]}],[2,{"name":"Go Right","isAccept":false,"transitions":[[2,{"state":2,"direction":"Right","nextState":2}],[6,{"state":2,"direction":"Up","nextState":3}],[10,{"state":2,"direction":"Right","nextState":2}],[14,{"state":2,"direction":"Left","nextState":4}]]}],[3,{"name":"Go Up","isAccept":false,"transitions":[[4,{"state":3,"direction":"Up","nextState":3}],[12,{"state":3,"direction":"Left","nextState":4}],[5,{"state":3,"direction":"Up","nextState":3}],[13,{"state":3,"direction":"Down","nextState":5}]]}],[4,{"name":"Go Left Again","isAccept":false,"transitions":[[8,{"state":4,"direction":"Left","nextState":4}],[9,{"state":4,"direction":"Down","nextState":5}],[10,{"state":4,"direction":"Left","nextState":4}],[11,{"state":4,"direction":"Stay","nextState":6}]]}],[5,{"name":"Go Down Again","isAccept":false,"transitions":[[1,{"state":5,"direction":"Down","nextState":5}],[3,{"state":5,"direction":"Stay","nextState":6}],[5,{"state":5,"direction":"Down","nextState":5}],[7,{"state":5,"direction":"Stay","nextState":6}]]}],[6,{"name":"Done","isAccept":true,"transitions":[]}]]')},59:function(t,e,n){t.exports=n(69)},64:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(4),A=n.n(i),o=(n(64),n(55)),r=n(32),l=n(10),c=n(11),h=n(9),p=n(12),d=n(13),g=n(98),u=n(95),m=n(97),S=n(34),b=n.n(S),C=n(21),R=n.n(C),v=n(22),f=n.n(v),x=n(35),E=n.n(x),w=n(23),Q=n.n(w),D=n(36),I=n.n(D),k=n(37),U=n.n(k),y=n(38),B=n.n(y),O=n(24),j=n.n(O),M=n(39),N=n.n(M),Y=n(40),G=n.n(Y),T=n(41),W=n.n(T),J=n(42),V=n.n(J),K=n(43),q=n.n(K),L=n(44),P=n.n(L),X=n(45),Z=n.n(X),F=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).handleClick=function(t){a.setState({anchorEl:t.currentTarget})},a.handleClose=function(t){return function(){a.setState({anchorEl:null}),t&&a.props.onAddTransition({stateIndex:parseInt(a.props.stateIndex),key:parseInt(t),direction:"stay"})}},a.state={anchorEl:null},a.handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleClose=a.handleClose.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement(g.a,{style:{display:this.props.transitions.size<16?"block":"none"},onClick:this.handleClick,disabled:this.props.isRunning},"Add transition"),s.a.createElement(u.a,{anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.handleClose(null)},[[0,b.a],[1,R.a],[2,f.a],[3,E.a],[4,Q.a],[5,I.a],[6,U.a],[7,B.a],[8,j.a],[9,N.a],[10,G.a],[11,W.a],[12,V.a],[13,q.a],[14,P.a],[15,Z.a]].map((function(e){return Array.from(t.props.transitions.keys()).includes(e[0])?null:s.a.createElement(m.a,{key:e,onClick:t.handleClose(e[0])},s.a.createElement("img",{src:e[1],alt:""}))}))))}}]),n}(s.a.Component),H=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).onRemove=a.onRemove.bind(Object(h.a)(a)),a.onDirectionChange=a.onDirectionChange.bind(Object(h.a)(a)),a.onStateChange=a.onStateChange.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"onRemove",value:function(t){this.props.onRemove({stateIndex:parseInt(this.props.stateIndex),transitionIndex:parseInt(this.props.transitionIndex)})}},{key:"onDirectionChange",value:function(t){this.props.onTransitionDirectionChange({stateIndex:parseInt(this.props.stateIndex),transitionIndex:parseInt(this.props.transitionIndex),direction:t.target.value})}},{key:"onStateChange",value:function(t){this.props.onTransitionStateChange({stateIndex:parseInt(this.props.stateIndex),transitionIndex:parseInt(this.props.transitionIndex),nextState:parseInt(t.target.value)})}},{key:"render",value:function(){var t=this,e={0:b.a,1:R.a,2:f.a,3:E.a,4:Q.a,5:I.a,6:U.a,7:B.a,8:j.a,9:N.a,10:G.a,11:W.a,12:V.a,13:q.a,14:P.a,15:Z.a};return s.a.createElement("tr",{class:"Transition-Row"},s.a.createElement("td",null,s.a.createElement("img",{className:"Transition-Image",src:e[this.props.transitionIndex],alt:""})),s.a.createElement("td",null,s.a.createElement("select",Object.assign({className:"Transition-Direction",name:"direction",onChange:this.onDirectionChange,disabled:this.props.isRunning},this.props.isRunning?{value:this.props.direction}:{}),[[0,"Stay"],[1,"Left"],[2,"Down"],[4,"Right"],[8,"Up"]].map((function(e){return 0===(t.props.transitionIndex&e[0])?s.a.createElement("option",{value:e[1],selected:t.props.direction===e[1]},e[1]):null})))),s.a.createElement("td",null,s.a.createElement("select",Object.assign({className:"Next-State-Transition",name:"nextState",onChange:this.onStateChange,disabled:this.props.isRunning},this.props.isRunning?{value:this.props.nextState}:{}),Array.from(this.props.states.keys()).map((function(e){var n=t.props.states.get(e);return s.a.createElement("option",{value:n.key,selected:n.key===t.props.nextState},n.name)})))),s.a.createElement("td",null,s.a.createElement("button",{className:"Remove-Transition",onClick:this.onRemove,disabled:this.props.isRunning},"x")))}}]),n}(s.a.Component),z=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return s.a.createElement("tr",{className:"State-Row"},s.a.createElement("input",{type:"text",defaultValue:this.props.name,onChange:this.props.onNameChange,disabled:this.props.isRunning}),s.a.createElement("button",{className:"Remove-State",onClick:this.props.onRemove,disabled:this.props.isRunning},"x"),s.a.createElement("br",null),s.a.createElement("input",{type:"checkbox",name:"accept-"+this.props.stateIndex,id:"accept-"+this.props.stateIndex,checked:this.props.accept,onChange:this.props.onAcceptChange,disabled:this.props.isRunning}),s.a.createElement("label",{for:"accept-"+this.props.stateIndex},"Is Accept State?"),s.a.createElement("br",null),s.a.createElement(F,{isRunning:this.props.isRunning,stateIndex:this.props.stateIndex,transitions:this.props.transitions,onAddTransition:this.props.onAddTransition}),s.a.createElement("table",{class:"Transition-Table"},this.props.transitions.size>0&&s.a.createElement("tr",null,s.a.createElement("th",null,"Wall Type"),s.a.createElement("th",null,"Direction"),s.a.createElement("th",null,"Next State")),Array.from(this.props.transitions.keys()).map((function(e){var n=t.props.transitions.get(e);return s.a.createElement(H,{states:t.props.states,isRunning:t.props.isRunning,stateIndex:t.props.stateIndex,transitionIndex:n.key,direction:n.direction,nextState:n.nextState,onRemove:t.props.onRemoveTransition,onTransitionDirectionChange:t.props.onTransitionDirectionChange,onTransitionStateChange:t.props.onTransitionStateChange})}))))}}]),n}(s.a.Component),$=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"State-Container"},s.a.createElement("table",{className:"State-Table"},s.a.createElement("th",null,"States"," ",s.a.createElement("button",{className:"Add-State",onClick:this.props.onAddState,style:{display:this.props.states.size<100?"block":"none"},disabled:this.props.isRunning},"+")),s.a.createElement("tbody",null,Array.from(this.props.states.keys()).map((function(e){var n=t.props.states.get(e);return s.a.createElement(z,{key:e,stateIndex:e,name:n.name,accept:n.isAccept,states:t.props.states,isRunning:t.props.isRunning,transitions:n.transitions,onRemove:t.props.onRemoveState(e),onNameChange:t.props.onStateNameChange(e),onAcceptChange:t.props.onAcceptChange(e),onAddTransition:t.props.onAddTransition,onRemoveTransition:t.props.onRemoveTransition,onTransitionDirectionChange:t.props.onTransitionDirectionChange,onTransitionStateChange:t.props.onTransitionStateChange})})))),s.a.createElement("button",{onClick:this.props.onExportStates},"Export States"),s.a.createElement("p",null,"todo: Import states function + validation"))}}]),n}(s.a.Component),_=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=Array(this.props.height).fill().map((function(t,e){return e})),n=Array(this.props.width).fill().map((function(t,e){return e}));return s.a.createElement("table",{className:"Grid"},e.map((function(e){return s.a.createElement("tr",{key:e},n.map((function(n){return s.a.createElement("td",Object.assign({key:n,x:n,y:e},e===t.props.robotY&&n===t.props.robotX?{robot:""}:{},0===e||(8&t.props.wallData[e][n])>0?{top:""}:{},e===t.props.height-1||(2&t.props.wallData[e][n])>0?{bottom:""}:{},0===n||(1&t.props.wallData[e][n])>0?{left:""}:{},n===t.props.width-1||(4&t.props.wallData[e][n])>0?{right:""}:{},t.props.isRunning?{}:{onMouseDown:t.props.onMoveRobot},t.props.isRunning?{}:{onMouseOver:t.props.onChangeWalls},t.props.isRunning?{}:{onDragOver:t.props.onChangeWalls}))})))})))}}]),n}(s.a.Component),tt=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"move",name:"mode",value:"move",checked:"move"===this.props.mode,onChange:this.props.onChangeMode,disabled:this.props.isRunning}),s.a.createElement("label",{for:"move"},"Move Robot"),s.a.createElement("input",{type:"radio",id:"build",name:"mode",value:"build",checked:"build"===this.props.mode,onChange:this.props.onChangeMode,disabled:this.props.isRunning}),s.a.createElement("label",{for:"build"},"Build Walls"),s.a.createElement("input",{type:"radio",id:"remove",name:"mode",value:"remove",checked:"remove"===this.props.mode,onChange:this.props.onChangeMode,disabled:this.props.isRunning}),s.a.createElement("label",{for:"remove"},"Remove Walls")),s.a.createElement("div",null,s.a.createElement("input",{type:"checkbox",id:"left",value:"1",checked:(1&this.props.wallSelection)>0,onChange:this.props.onWallSelectionChanged,disabled:this.props.isRunning}),s.a.createElement("label",{for:"left"},s.a.createElement("img",{src:R.a,alt:""})),s.a.createElement("input",{type:"checkbox",id:"bottom",value:"2",checked:(2&this.props.wallSelection)>0,onChange:this.props.onWallSelectionChanged,disabled:this.props.isRunning}),s.a.createElement("label",{for:"bottom"},s.a.createElement("img",{src:f.a,alt:""})),s.a.createElement("input",{type:"checkbox",id:"right",value:"4",checked:(4&this.props.wallSelection)>0,onChange:this.props.onWallSelectionChanged,disabled:this.props.isRunning}),s.a.createElement("label",{for:"right"},s.a.createElement("img",{src:Q.a,alt:""})),s.a.createElement("input",{type:"checkbox",id:"top",value:"8",checked:(8&this.props.wallSelection)>0,onChange:this.props.onWallSelectionChanged,disabled:this.props.isRunning}),s.a.createElement("label",{for:"top"},s.a.createElement("img",{src:j.a,alt:""}))),s.a.createElement("div",null,this.props.isRunning&&s.a.createElement("p",null,"Step: ",this.props.steps.length),s.a.createElement("button",{disabled:0===this.props.steps.length},"<<"),s.a.createElement("button",{disabled:0===this.props.steps.length},"<"),s.a.createElement("button",null,"Play"),this.props.isRunning&&s.a.createElement("button",null,"Stop"),s.a.createElement("button",null,">"),s.a.createElement("button",null,">>")))}}]),n}(s.a.Component),et=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"Grid-Container"},s.a.createElement(_,{isRunning:this.props.isRunning,width:this.props.width,height:this.props.height,robotX:this.props.robotX,robotY:this.props.robotY,wallData:this.props.wallData,onMoveRobot:this.props.onMoveRobot,onChangeWalls:this.props.onChangeWalls}),s.a.createElement(tt,{isRunning:this.props.isRunning,steps:this.props.steps,mode:this.props.mode,wallSelection:this.props.wallSelection,onChangeMode:this.props.onChangeMode,onWallSelectionChanged:this.props.onWallSelectionChanged}),s.a.createElement("p",null,"Click on any cell in the grid to position the robot. You can build and remove walls by holding and dragging the cursor. You can pick which wall sides should be built or removed with the check boxes. The robot can only take 10,000 steps."))}}]),n}(s.a.Component),nt=n(54),at=(n(68),function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(t){var a;Object(l.a)(this,n),(a=e.call(this,t)).onRemoveState=function(t){return function(){a.state.isRunning||(a.state.states.forEach((function(e,n,a){n!==t&&e.transitions.forEach((function(e,a,s){e.nextState===t&&(e.nextState=n)}))})),a.state.states.delete(t),a.setState(a.state))}},a.onStateNameChange=function(t){return function(e){a.state.isRunning?e.target.value=a.state.states.get(t).name:(a.state.states.get(t).name=e.target.value,a.setState(a.state))}},a.onAcceptChange=function(t){return function(e){a.state.isRunning||(a.state.states.get(t).isAccept=e.target.checked,a.setState(a.state))}},a.onAddTransition=function(t){a.state.isRunning||(a.state.states.get(t.stateIndex).transitions.set(t.key,{state:parseInt(t.stateIndex),key:parseInt(t.key),direction:t.direction,nextState:parseInt(t.stateIndex)}),a.setState(a.state))},a.onRemoveTransition=function(t){a.state.isRunning||(a.state.states.get(t.stateIndex).transitions.delete(t.transitionIndex),a.setState(a.state))},a.onTransitionDirectionChange=function(t){a.state.isRunning||(a.state.states.get(t.stateIndex).transitions.get(t.transitionIndex).direction=t.direction,a.setState(a.state))},a.onTransitionStateChange=function(t){a.state.isRunning||(a.state.states.get(t.stateIndex).transitions.get(t.transitionIndex).nextState=t.nextState,a.setState(a.state))},a.onExportStates=function(t){var e,n=new Map,s=Object(r.a)(a.state.states);try{for(s.s();!(e=s.n()).done;){var i,A=e.value,l=[],c=Object(r.a)(A[1].transitions);try{for(c.s();!(i=c.n()).done;){var h=i.value,p=JSON.parse(JSON.stringify(h[1]));delete p.key,l.push([h[0],p])}}catch(S){c.e(S)}finally{c.f()}var d=JSON.parse(JSON.stringify(A[1]));delete d.key,d.transitions=l,n.set(A[0],d)}}catch(S){s.e(S)}finally{s.f()}var g=JSON.stringify(Object(o.a)(n),null,2),u=new Blob([g],{type:"text/plain"}),m=document.createElement("a");m.href=URL.createObjectURL(u),m.download="states.robot",document.body.appendChild(m),m.click(),document.body.removeChild(m)},a.state={states:a.convertJSONToMap(nt),gridWidth:25,gridHeight:25,robotX:0,robotY:0,gridAlterationMode:"move",wallSelection:0,steps:[],isRunning:!1};for(var s=[],i=0;i<a.state.gridHeight;i++){for(var A=[],c=0;c<a.state.gridWidth;c++)A.push(0);s.push(A)}return a.state.wallData=s,a.onExportStates=a.onExportStates.bind(Object(h.a)(a)),a.onMoveRobot=a.onMoveRobot.bind(Object(h.a)(a)),a.onChangeWalls=a.onChangeWalls.bind(Object(h.a)(a)),a.onChangeMode=a.onChangeMode.bind(Object(h.a)(a)),a.onWallSelectionChanged=a.onWallSelectionChanged.bind(Object(h.a)(a)),a.onAddState=a.onAddState.bind(Object(h.a)(a)),a.onRemoveState=a.onRemoveState.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"convertJSONToMap",value:function(t){var e,n=new Map(t),a=Object(r.a)(n.entries());try{for(a.s();!(e=a.n()).done;){var s=e.value;s[1].key=s[0],s[1].transitions=new Map(s[1].transitions);var i,A=Object(r.a)(s[1].transitions);try{for(A.s();!(i=A.n()).done;){var o=i.value;o[1].key=o[0]}}catch(l){A.e(l)}finally{A.f()}}}catch(l){a.e(l)}finally{a.f()}return n}},{key:"onAddState",value:function(){if(!this.state.isRunning){var t=Array.from(this.state.states.keys()),e=0===this.state.states.size?0:t[t.length-1]+1;this.setState({states:this.state.states.set(e,{key:e,name:"New State",isAccept:!1,transitions:new Map})})}}},{key:"onMoveRobot",value:function(t){if(!this.state.isRunning)if("move"===this.state.gridAlterationMode){var e=parseInt(t.target.getAttribute("x")),n=parseInt(t.target.getAttribute("y"));e>=0&&e<this.state.gridWidth&&n>=0&&n<this.state.gridHeight&&this.setState({robotX:e,robotY:n})}else this.onChangeWalls(t)}},{key:"onChangeWalls",value:function(t){if(0!==(1&t.buttons)&&!this.state.isRunning){var e,n=parseInt(t.target.getAttribute("x")),a=parseInt(t.target.getAttribute("y"));if(n>=0&&n<this.state.gridWidth&&a>=0&&a<this.state.gridHeight)switch(this.state.gridAlterationMode){case"build":e=this.modifyWallData(this.state.wallData,n,a,this.state.wallData[a][n]|this.state.wallSelection),(1&this.state.wallSelection)>0&&n>0&&(e[a][n-1]=4|e[a][n-1]),(2&this.state.wallSelection)>0&&a<this.state.gridHeight-1&&(e[a+1][n]=8|e[a+1][n]),(4&this.state.wallSelection)>0&&n<this.state.gridHidth-1&&(e[a][n+1]=1|e[a][n+1]),(8&this.state.wallSelection)>0&&a>0&&(e[a-1][n]=2|e[a-1][n]),this.setState({wallData:e});break;case"remove":e=this.modifyWallData(this.state.wallData,n,a,this.state.wallData[a][n]&15-this.state.wallSelection),(1&this.state.wallSelection)>0&&n>0&&(e[a][n-1]=11&e[a][n-1]),(2&this.state.wallSelection)>0&&a<this.state.gridHeight-1&&(e[a+1][n]=7&e[a+1][n]),(4&this.state.wallSelection)>0&&n<this.state.gridWidth-1&&(e[a][n+1]=14&e[a][n+1]),(8&this.state.wallSelection)>0&&a>0&&(e[a-1][n]=13&e[a-1][n]),this.setState({wallData:e})}}}},{key:"modifyWallData",value:function(t,e,n,a){if(!this.state.isRunning){for(var s=[],i=0;i<t.length;i++){for(var A=[],o=0;o<t[i].length;o++)o===e&&i===n?A.push(a):A.push(t[i][o]);s.push(A)}return s}}},{key:"onChangeMode",value:function(t){this.state.isRunning||this.setState({gridAlterationMode:t.target.value})}},{key:"onWallSelectionChanged",value:function(t){this.state.isRunning||(t.target.checked?this.setState({wallSelection:this.state.wallSelection|t.target.value}):this.setState({wallSelection:this.state.wallSelection&15-t.target.value}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement($,{states:this.state.states,isRunning:this.state.isRunning,onAddState:this.onAddState,onRemoveState:this.onRemoveState,onStateNameChange:this.onStateNameChange,onAcceptChange:this.onAcceptChange,onAddTransition:this.onAddTransition,onRemoveTransition:this.onRemoveTransition,onTransitionDirectionChange:this.onTransitionDirectionChange,onTransitionStateChange:this.onTransitionStateChange,onExportStates:this.onExportStates}),s.a.createElement(et,{states:this.state.states,width:this.state.gridWidth,height:this.state.gridHeight,wallData:this.state.wallData,robotX:this.state.robotX,robotY:this.state.robotY,mode:this.state.gridAlterationMode,wallSelection:this.state.wallSelection,isRunning:this.state.isRunning,steps:this.state.steps,onMoveRobot:this.onMoveRobot,onChangeWalls:this.onChangeWalls,onChangeMode:this.onChangeMode,onWallSelectionChanged:this.onWallSelectionChanged}))}}]),n}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));A.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(at,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.d0d10c7f.chunk.js.map