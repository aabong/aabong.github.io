(this["webpackJsonpaabong.github.io"]=this["webpackJsonpaabong.github.io"]||[]).push([[0],{23:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAjSURBVDhPY2SAgf///0NZeAETlCYajGogBoxqIAbQWgMDAwA6iAMd4rZttQAAAABJRU5ErkJggg=="},24:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAeSURBVDhPY/z//z8DKYAJShMNRjUQA0akhkEHGBgAUyEDF9+20Z0AAAAASUVORK5CYII="},25:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAlSURBVDhPY/z//z8DEYCRkRHCYIJQxINRDcSAUQ3EAFprYGAAAF4iAyBdcQELAAAAAElFTkSuQmCC"},26:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAgSURBVDhPYxh8gPH///9QJnGACUoTDUY1EANGoAYGBgCNYQMXBXnadAAAAABJRU5ErkJggg=="},32:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZSURBVDhPY/hPIhjVQAwY1UAMGHQa/v8HAK+t/R8kTA7nAAAAAElFTkSuQmCC"},33:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAiSURBVDhPY2SAgf///0NZeAETlCYajGogBoxIDYMOMDAAADg8AxeOvTxoAAAAAElFTkSuQmCC"},34:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAnSURBVDhPY2SAgf///0NZ2AAjI1QlE4QiHoxqIAaMaiAG0FoDAwMAQz0DIILXLPsAAAAASUVORK5CYII="},35:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAjSURBVDhPY/z//z8DEYCRkRHCYIJQxINRDcSAEalh0AEGBgBb1gMaLsA0dQAAAABJRU5ErkJggg=="},36:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAmSURBVDhPY2SAgf///0NZ2AAjI1QlE4QiHoxqIAaMSA2DDjAwAABA8QMa1K1fNQAAAABJRU5ErkJggg=="},37:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAkSURBVDhPYxh8gBFKMzD8//8fysILmKA00WBUAzFgBGpgYAAAcnwDF+BzZ3EAAAAASUVORK5CYII="},38:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAiSURBVDhPYxh8gPH///9QJnGACUoTDUY1EANor2HQAQYGAIsVAxGJlvRqAAAAAElFTkSuQmCC"},39:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAmSURBVDhPYxh8gBFKMzD8//8fysILmKA00WBUAzGA9hoGHWBgAABwMAMRpbOiOAAAAABJRU5ErkJggg=="},40:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAlSURBVDhPYxh8gPH///9QJl7AyMgIYTBBKOLBqAZiwAjUwMAAAJRdAxqzUKNTAAAAAElFTkSuQmCC"},41:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAoSURBVDhPYxh8gBFKMzD8//8fysIGGBmhKpkgFPFgVAMxYARqYGAAAHl4AxqqAdFyAAAAAElFTkSuQmCC"},42:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAnSURBVDhPYxh8gPH///9QJl7AyMgIYTBBKOLBqAZiAO01DDrAwAAAkhEDFB0wL28AAAAASUVORK5CYII="},43:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAqSURBVDhPYxh8gBFKMzD8//8fysIGGBmhKpkgFPFgVAMxgPYaBh1gYAAAdywDFMOC/kIAAAAASUVORK5CYII="},53:function(t){t.exports=JSON.parse('[[0,{"name":"Go Left","isAccept":false,"transitions":[[0,{"direction":"Left","nextState":0}],[2,{"direction":"Left","nextState":0}],[4,{"direction":"Left","nextState":0}],[6,{"direction":"Left","nextState":0}],[8,{"direction":"Left","nextState":0}],[10,{"direction":"Left","nextState":0}],[12,{"direction":"Left","nextState":0}],[14,{"direction":"Left","nextState":0}],[1,{"direction":"Down","nextState":1}],[3,{"direction":"Right","nextState":2}],[5,{"direction":"Down","nextState":1}],[7,{"direction":"Up","nextState":3}],[9,{"direction":"Down","nextState":1}],[11,{"direction":"Right","nextState":2}],[13,{"direction":"Down","nextState":1}],[15,{"direction":"Stay","nextState":6}]]}],[1,{"name":"Go Down","isAccept":false,"transitions":[[1,{"direction":"Down","nextState":1}],[3,{"direction":"Right","nextState":2}],[5,{"direction":"Down","nextState":1}],[7,{"direction":"Up","nextState":3}]]}],[2,{"name":"Go Right","isAccept":false,"transitions":[[2,{"direction":"Right","nextState":2}],[6,{"direction":"Up","nextState":3}],[10,{"direction":"Right","nextState":2}],[14,{"direction":"Left","nextState":4}]]}],[3,{"name":"Go Up","isAccept":false,"transitions":[[4,{"direction":"Up","nextState":3}],[12,{"direction":"Left","nextState":4}],[5,{"direction":"Up","nextState":3}],[13,{"direction":"Down","nextState":5}]]}],[4,{"name":"Go Left Again","isAccept":false,"transitions":[[8,{"direction":"Left","nextState":4}],[9,{"direction":"Down","nextState":5}],[10,{"direction":"Left","nextState":4}],[11,{"direction":"Stay","nextState":6}]]}],[5,{"name":"Go Down Again","isAccept":false,"transitions":[[1,{"direction":"Down","nextState":5}],[3,{"direction":"Stay","nextState":6}],[5,{"direction":"Down","nextState":5}],[7,{"direction":"Stay","nextState":6}]]}],[6,{"name":"Done","isAccept":true,"transitions":[]}]]')},57:function(t,e,n){t.exports=n(70)},62:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(4),o=n.n(i),r=(n(62),n(30)),A=n.n(r),c=n(48),l=n(15),h=n(31),p=n(9),d=n(6),g=n(5),u=n(13),S=n(12),m=n(99),C=n(96),b=n(98),k=n(32),f=n.n(k),v=n(23),R=n.n(v),x=n(24),E=n.n(x),w=n(33),y=n.n(w),D=n(25),Q=n.n(D),I=n(34),U=n.n(I),B=n(35),O=n.n(B),j=n(36),T=n.n(j),M=n(26),N=n.n(M),Y=n(37),G=n.n(Y),W=n(38),P=n.n(W),J=n(39),F=n.n(J),V=n(40),K=n.n(V),X=n(41),L=n.n(X),q=n(42),Z=n.n(q),H=n(43),z=n.n(H),$=function(t){Object(u.a)(n,t);var e=Object(S.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).handleClick=function(t){a.setState({anchorEl:t.currentTarget})},a.handleClose=function(t){return function(){a.setState({anchorEl:null}),Number.isInteger(t)&&a.props.onAddTransition({stateIndex:parseInt(a.props.stateIndex),key:parseInt(t),direction:"stay"})}},a.state={anchorEl:null},a.handleClick=a.handleClick.bind(Object(g.a)(a)),a.handleClose=a.handleClose.bind(Object(g.a)(a)),a}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement(m.a,{style:{display:this.props.transitions.size<16?"block":"none"},onClick:this.handleClick,disabled:this.props.isRunning},"Add transition"),s.a.createElement(C.a,{anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.handleClose(null)},[[0,f.a],[1,R.a],[2,E.a],[3,y.a],[4,Q.a],[5,U.a],[6,O.a],[7,T.a],[8,N.a],[9,G.a],[10,P.a],[11,F.a],[12,K.a],[13,L.a],[14,Z.a],[15,z.a]].map((function(e){return Array.from(t.props.transitions.keys()).includes(e[0])?null:s.a.createElement(b.a,{key:e,onClick:t.handleClose(e[0])},s.a.createElement("img",{src:e[1],alt:""}))}))))}}]),n}(s.a.Component),_=function(t){Object(u.a)(n,t);var e=Object(S.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).onRemove=a.onRemove.bind(Object(g.a)(a)),a.onDirectionChange=a.onDirectionChange.bind(Object(g.a)(a)),a.onStateChange=a.onStateChange.bind(Object(g.a)(a)),a}return Object(d.a)(n,[{key:"onRemove",value:function(t){this.props.onRemove({stateIndex:parseInt(this.props.stateIndex),transitionIndex:parseInt(this.props.transitionIndex)})}},{key:"onDirectionChange",value:function(t){this.props.onTransitionDirectionChange({stateIndex:parseInt(this.props.stateIndex),transitionIndex:parseInt(this.props.transitionIndex),direction:t.target.value})}},{key:"onStateChange",value:function(t){this.props.onTransitionStateChange({stateIndex:parseInt(this.props.stateIndex),transitionIndex:parseInt(this.props.transitionIndex),nextState:parseInt(t.target.value)})}},{key:"render",value:function(){var t=this,e={0:f.a,1:R.a,2:E.a,3:y.a,4:Q.a,5:U.a,6:O.a,7:T.a,8:N.a,9:G.a,10:P.a,11:F.a,12:K.a,13:L.a,14:Z.a,15:z.a};return s.a.createElement("tr",{class:"Transition-Row"},s.a.createElement("td",null,s.a.createElement("img",{className:"Transition-Image",src:e[this.props.transitionIndex],alt:""})),s.a.createElement("td",null,s.a.createElement("select",Object.assign({className:"Transition-Direction",name:"direction",onChange:this.onDirectionChange,disabled:this.props.isRunning},this.props.isRunning?{value:this.props.direction}:{}),[[0,"Stay"],[1,"Left"],[2,"Down"],[4,"Right"],[8,"Up"]].map((function(e){return 0===(t.props.transitionIndex&e[0])?s.a.createElement("option",{value:e[1],selected:t.props.direction===e[1]},e[1]):null})))),s.a.createElement("td",null,s.a.createElement("select",Object.assign({className:"Next-State-Transition",name:"nextState",onChange:this.onStateChange,disabled:this.props.isRunning},this.props.isRunning?{value:this.props.nextState}:{}),Array.from(this.props.states.keys()).map((function(e){var n=t.props.states.get(e);return s.a.createElement("option",{value:n.key,selected:n.key===t.props.nextState},n.name)})))),s.a.createElement("td",null,s.a.createElement("button",{className:"Remove-Transition",onClick:this.onRemove,disabled:this.props.isRunning},"x")))}}]),n}(s.a.Component),tt=function(t){Object(u.a)(n,t);var e=Object(S.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return s.a.createElement("tr",{className:"State-Row"+(this.props.currentState===this.props.stateIndex?" Current-State":"")},s.a.createElement("input",{type:"text",defaultValue:this.props.name,onChange:this.props.onNameChange,disabled:this.props.isRunning}),s.a.createElement("button",{className:"Remove-State",onClick:this.props.onRemove,disabled:this.props.isRunning},"x"),s.a.createElement("br",null),s.a.createElement("input",{type:"checkbox",name:"accept-"+this.props.stateIndex,id:"accept-"+this.props.stateIndex,checked:this.props.accept,onChange:this.props.onAcceptChange,disabled:this.props.isRunning}),s.a.createElement("label",{for:"accept-"+this.props.stateIndex},"Is Accept State?"),s.a.createElement("br",null),s.a.createElement($,{isRunning:this.props.isRunning,stateIndex:this.props.stateIndex,transitions:this.props.transitions,onAddTransition:this.props.onAddTransition}),s.a.createElement("table",{class:"Transition-Table"},this.props.transitions.size>0&&s.a.createElement("tr",null,s.a.createElement("th",null,"Wall Type"),s.a.createElement("th",null,"Direction"),s.a.createElement("th",null,"Next State")),Array.from(this.props.transitions.keys()).map((function(e){var n=t.props.transitions.get(e);return s.a.createElement(_,{states:t.props.states,isRunning:t.props.isRunning,stateIndex:t.props.stateIndex,transitionIndex:n.key,direction:n.direction,nextState:n.nextState,onRemove:t.props.onRemoveTransition,onTransitionDirectionChange:t.props.onTransitionDirectionChange,onTransitionStateChange:t.props.onTransitionStateChange})}))))}}]),n}(s.a.Component),et=function(t){Object(u.a)(n,t);var e=Object(S.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"State-Container"},s.a.createElement("table",{className:"State-Table"},s.a.createElement("th",null,"States"," ",s.a.createElement("button",{className:"Add-State",onClick:this.props.onAddState,style:{display:this.props.states.size<100?"block":"none"},disabled:this.props.isRunning},"+")),s.a.createElement("tbody",null,Array.from(this.props.states.keys()).map((function(e){var n=t.props.states.get(e);return s.a.createElement(tt,{key:e,stateIndex:e,name:n.name,accept:n.isAccept,states:t.props.states,isRunning:t.props.isRunning,currentState:t.props.currentState,transitions:n.transitions,onRemove:t.props.onRemoveState(e),onNameChange:t.props.onStateNameChange(e),onAcceptChange:t.props.onAcceptChange(e),onAddTransition:t.props.onAddTransition,onRemoveTransition:t.props.onRemoveTransition,onTransitionDirectionChange:t.props.onTransitionDirectionChange,onTransitionStateChange:t.props.onTransitionStateChange})})))),s.a.createElement("button",{onClick:this.props.onExportStates},"Export States"),s.a.createElement("p",null,"todo: Import states function + validation"))}}]),n}(s.a.Component),nt=function(t){Object(u.a)(n,t);var e=Object(S.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t=this,e=this.props.currentState>=0&&this.props.states.get(this.props.currentState).isAccept,n=Array(this.props.height).fill().map((function(t,e){return e})),a=Array(this.props.width).fill().map((function(t,e){return e}));return s.a.createElement("table",{className:"Grid"+(this.props.isFinished?e?" Accept":" Reject":"")},n.map((function(e){return s.a.createElement("tr",{key:e},a.map((function(n){return s.a.createElement("td",Object.assign({key:n,x:n,y:e},e===t.props.robotY&&n===t.props.robotX?{robot:""}:{},0===e||(8&t.props.wallData[e][n])>0?{top:""}:{},e===t.props.height-1||(2&t.props.wallData[e][n])>0?{bottom:""}:{},0===n||(1&t.props.wallData[e][n])>0?{left:""}:{},n===t.props.width-1||(4&t.props.wallData[e][n])>0?{right:""}:{},{onMouseDown:t.props.onMoveRobot},t.props.isRunning?{}:{onMouseOver:t.props.onChangeWalls},t.props.isRunning?{}:{onDragOver:t.props.onChangeWalls},{onContextMenu:function(t){t.preventDefault()}}))})))})))}}]),n}(s.a.Component),at=function(t){Object(u.a)(n,t);var e=Object(S.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("input",{type:"radio",id:"move",name:"mode",value:"move",checked:"move"===this.props.mode,onChange:this.props.onChangeMode,disabled:this.props.isRunning}),s.a.createElement("label",{for:"move"},"Move Robot"),s.a.createElement("input",{type:"radio",id:"build",name:"mode",value:"build",checked:"build"===this.props.mode,onChange:this.props.onChangeMode,disabled:this.props.isRunning}),s.a.createElement("label",{for:"build"},"Build Walls"),s.a.createElement("input",{type:"radio",id:"remove",name:"mode",value:"remove",checked:"remove"===this.props.mode,onChange:this.props.onChangeMode,disabled:this.props.isRunning}),s.a.createElement("label",{for:"remove"},"Remove Walls")),s.a.createElement("div",null,s.a.createElement("input",{type:"checkbox",id:"left",value:"1",checked:(1&this.props.wallSelection)>0,onChange:this.props.onWallSelectionChanged,disabled:this.props.isRunning}),s.a.createElement("label",{for:"left"},s.a.createElement("img",{src:R.a,alt:""})),s.a.createElement("input",{type:"checkbox",id:"bottom",value:"2",checked:(2&this.props.wallSelection)>0,onChange:this.props.onWallSelectionChanged,disabled:this.props.isRunning}),s.a.createElement("label",{for:"bottom"},s.a.createElement("img",{src:E.a,alt:""})),s.a.createElement("input",{type:"checkbox",id:"right",value:"4",checked:(4&this.props.wallSelection)>0,onChange:this.props.onWallSelectionChanged,disabled:this.props.isRunning}),s.a.createElement("label",{for:"right"},s.a.createElement("img",{src:Q.a,alt:""})),s.a.createElement("input",{type:"checkbox",id:"top",value:"8",checked:(8&this.props.wallSelection)>0,onChange:this.props.onWallSelectionChanged,disabled:this.props.isRunning}),s.a.createElement("label",{for:"top"},s.a.createElement("img",{src:N.a,alt:""}))),s.a.createElement("div",null,s.a.createElement("button",{onClick:this.props.onSkipToBeginningClicked,disabled:0===this.props.steps.length},"<<"),s.a.createElement("button",{onClick:this.props.onStepBackwardClicked,disabled:0===this.props.steps.length},"<"),s.a.createElement("button",{onClick:this.props.onPlayClicked},this.props.timer?this.props.isPaused?"Resume":"Pause":"Play"),s.a.createElement("button",{onClick:this.props.onStepForwardClicked,disabled:this.props.isFinished},">"),s.a.createElement("button",{onClick:this.props.onSkipToEndClicked,disabled:this.props.isFinished},">>"),this.props.isRunning&&s.a.createElement("button",{className:"Stop",onClick:this.props.onStopClicked},"Stop"),this.props.isRunning&&s.a.createElement("p",null,"Step: ",this.props.steps.length)))}}]),n}(s.a.Component),st=function(t){Object(u.a)(n,t);var e=Object(S.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return s.a.createElement("div",{className:"Grid-Container"},s.a.createElement(nt,{states:this.props.states,isRunning:this.props.isRunning,isFinished:this.props.isFinished,width:this.props.width,height:this.props.height,robotX:this.props.robotX,robotY:this.props.robotY,wallData:this.props.wallData,currentState:this.props.currentState,onMoveRobot:this.props.onMoveRobot,onChangeWalls:this.props.onChangeWalls}),s.a.createElement(at,{isRunning:this.props.isRunning,isPaused:this.props.isPaused,isFinished:this.props.isFinished,steps:this.props.steps,mode:this.props.mode,wallSelection:this.props.wallSelection,timer:this.props.timer,onChangeMode:this.props.onChangeMode,onWallSelectionChanged:this.props.onWallSelectionChanged,onSkipToBeginningClicked:this.props.onSkipToBeginningClicked,onStepBackwardClicked:this.props.onStepBackwardClicked,onPlayClicked:this.props.onPlayClicked,onStepForwardClicked:this.props.onStepForwardClicked,onSkipToEndClicked:this.props.onSkipToEndClicked,onStopClicked:this.props.onStopClicked}),s.a.createElement("p",null,"Click on any cell in the grid to position the robot. You can build and remove walls by holding and dragging the cursor. You can pick which wall sides should be built or removed with the check boxes. The first state is automatically considered the start state. The robot can only take 10,000 steps."))}}]),n}(s.a.Component),it=n(52),ot=n(53),rt=(n(69),function(t){Object(u.a)(n,t);var e=Object(S.a)(n);function n(t){var a;Object(p.a)(this,n),(a=e.call(this,t)).onRemoveState=function(t){return function(){a.state.isRunning||(a.state.states.forEach((function(e,n,a){n!==t&&e.transitions.forEach((function(e,a,s){e.nextState===t&&(e.nextState=n)}))})),a.state.states.delete(t),a.setState(a.state))}},a.onStateNameChange=function(t){return function(e){a.state.isRunning?e.target.value=a.state.states.get(t).name:(a.state.states.get(t).name=e.target.value,a.setState(a.state))}},a.onAcceptChange=function(t){return function(e){a.state.isRunning||(a.state.states.get(t).isAccept=e.target.checked,a.setState(a.state))}},a.onAddTransition=function(t){a.state.isRunning||(a.state.states.get(t.stateIndex).transitions.set(t.key,{state:parseInt(t.stateIndex),key:parseInt(t.key),direction:t.direction,nextState:parseInt(t.stateIndex)}),a.setState(a.state))},a.onRemoveTransition=function(t){a.state.isRunning||(a.state.states.get(t.stateIndex).transitions.delete(t.transitionIndex),a.setState(a.state))},a.onTransitionDirectionChange=function(t){a.state.isRunning||(a.state.states.get(t.stateIndex).transitions.get(t.transitionIndex).direction=t.direction,a.setState(a.state))},a.onTransitionStateChange=function(t){a.state.isRunning||(a.state.states.get(t.stateIndex).transitions.get(t.transitionIndex).nextState=t.nextState,a.setState(a.state))},a.onExportStates=function(t){var e,n=new Map,s=0,i=Object(h.a)(a.state.states);try{for(i.s();!(e=i.n()).done;){var o,r=e.value,A=[],c=Object(h.a)(r[1].transitions);try{for(c.s();!(o=c.n()).done;){var p=o.value,d=JSON.parse(JSON.stringify(p[1]));delete d.key,delete d.state,A.push([p[0],d])}}catch(C){c.e(C)}finally{c.f()}var g=JSON.parse(JSON.stringify(r[1]));delete g.key,g.transitions=A,n.set(s++,g)}}catch(C){i.e(C)}finally{i.f()}var u=JSON.stringify(Object(l.a)(n),null,2),S=new Blob([u],{type:"text/plain"}),m=document.createElement("a");m.href=URL.createObjectURL(S),m.download="states.robot",document.body.appendChild(m),m.click(),document.body.removeChild(m)},a.onStepClicked=function(t,e){return Object(c.a)(A.a.mark((function n(){return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e||!a.state.isPaused){n.next=2;break}return n.abrupt("return");case 2:if(!t){n.next=7;break}return n.next=5,a.stepForward();case 5:n.next=9;break;case 7:return n.next=9,a.stepBackward();case 9:if(0!==a.state.steps.length){n.next=14;break}return n.next=12,a.setState({isFinished:!1,currentState:-1});case 12:n.next=16;break;case 14:return n.next=16,a.update();case 16:e&&a.resetTimer();case 17:case"end":return n.stop()}}),n)})))},a.onReset=function(t){return function(){a.setState({robotX:a.state.steps.length>0?a.state.steps[0].x:a.state.robotX,robotY:a.state.steps.length>0?a.state.steps[0].y:a.state.robotY,steps:[],isRunning:t,isFinished:!1,currentState:-1}),a.resetTimer()}},a.STEP_LIMIT=a.state={states:a.convertJSONToMap(ot),gridWidth:25,gridHeight:25,robotX:0,robotY:0,gridAlterationMode:"move",wallSelection:0,steps:[],isRunning:!1,isPaused:!1,isFinished:!1,currentState:-1};for(var s=[],i=0;i<a.state.gridHeight;i++){for(var o=[],r=0;r<a.state.gridWidth;r++)o.push(0);s.push(o)}return a.state.wallData=s,a.onExportStates=a.onExportStates.bind(Object(g.a)(a)),a.onMoveRobot=a.onMoveRobot.bind(Object(g.a)(a)),a.onChangeWalls=a.onChangeWalls.bind(Object(g.a)(a)),a.onChangeMode=a.onChangeMode.bind(Object(g.a)(a)),a.onWallSelectionChanged=a.onWallSelectionChanged.bind(Object(g.a)(a)),a.onAddState=a.onAddState.bind(Object(g.a)(a)),a.onRemoveState=a.onRemoveState.bind(Object(g.a)(a)),a.onPlayClicked=a.onPlayClicked.bind(Object(g.a)(a)),a.onSkipToEndClicked=a.onSkipToEndClicked.bind(Object(g.a)(a)),a.throttledWallUpdate=Object(it.throttle)((function(){return a.setState({wallData:a.state.wallData})}),100),a}return Object(d.a)(n,[{key:"convertJSONToMap",value:function(t){var e,n=new Map(t),a=Object(h.a)(n.entries());try{for(a.s();!(e=a.n()).done;){var s=e.value;s[1].key=s[0],s[1].transitions=new Map(s[1].transitions);var i,o=Object(h.a)(s[1].transitions);try{for(o.s();!(i=o.n()).done;){var r=i.value;r[1].state=s[0],r[1].key=r[0]}}catch(A){o.e(A)}finally{o.f()}}}catch(A){a.e(A)}finally{a.f()}return n}},{key:"onAddState",value:function(){if(!this.state.isRunning){var t=Array.from(this.state.states.keys()),e=0===this.state.states.size?0:t[t.length-1]+1;this.setState({states:this.state.states.set(e,{key:e,name:"New State",isAccept:!1,transitions:new Map})})}}},{key:"onMoveRobot",value:function(t){if(this.state.isRunning)(1&t.buttons)>0?this.onStepClicked(!0)():(2&t.buttons)>0&&this.onStepClicked(!1)();else if(0!==(1&t.buttons))if("move"===this.state.gridAlterationMode){var e=parseInt(t.target.getAttribute("x")),n=parseInt(t.target.getAttribute("y"));e>=0&&e<this.state.gridWidth&&n>=0&&n<this.state.gridHeight&&this.setState({robotX:e,robotY:n})}else this.onChangeWalls(t)}},{key:"onChangeWalls",value:function(t){if(0!==(1&t.buttons)&&!this.state.isRunning){var e,n=parseInt(t.target.getAttribute("x")),a=parseInt(t.target.getAttribute("y"));if(n>=0&&n<this.state.gridWidth&&a>=0&&a<this.state.gridHeight)switch(this.state.gridAlterationMode){case"build":e=this.modifyWallData(this.state.wallData,n,a,this.state.wallData[a][n]|this.state.wallSelection),(1&this.state.wallSelection)>0&&n>0&&(e[a][n-1]=4|e[a][n-1]),(2&this.state.wallSelection)>0&&a<this.state.gridHeight-1&&(e[a+1][n]=8|e[a+1][n]),(4&this.state.wallSelection)>0&&n<this.state.gridWidth-1&&(e[a][n+1]=1|e[a][n+1]),(8&this.state.wallSelection)>0&&a>0&&(e[a-1][n]=2|e[a-1][n]),this.state.wallData=e,this.throttledWallUpdate();break;case"remove":e=this.modifyWallData(this.state.wallData,n,a,this.state.wallData[a][n]&15-this.state.wallSelection),(1&this.state.wallSelection)>0&&n>0&&(e[a][n-1]=11&e[a][n-1]),(2&this.state.wallSelection)>0&&a<this.state.gridHeight-1&&(e[a+1][n]=7&e[a+1][n]),(4&this.state.wallSelection)>0&&n<this.state.gridWidth-1&&(e[a][n+1]=14&e[a][n+1]),(8&this.state.wallSelection)>0&&a>0&&(e[a-1][n]=13&e[a-1][n]),this.state.wallData=e,this.throttledWallUpdate()}}}},{key:"modifyWallData",value:function(t,e,n,a){if(!this.state.isRunning){for(var s=[],i=0;i<t.length;i++){for(var o=[],r=0;r<t[i].length;r++)r===e&&i===n?o.push(a):o.push(t[i][r]);s.push(o)}return s}}},{key:"onChangeMode",value:function(t){this.state.isRunning||this.setState({gridAlterationMode:t.target.value})}},{key:"onWallSelectionChanged",value:function(t){this.state.isRunning||(t.target.checked?this.setState({wallSelection:this.state.wallSelection|t.target.value}):this.setState({wallSelection:this.state.wallSelection&15-t.target.value}))}},{key:"stepBackward",value:function(){0!==this.state.steps.length&&this.state.steps.pop()}},{key:"stepForward",value:function(){var t=0===this.state.steps.length?this.state.robotX:this.state.steps[this.state.steps.length-1].x,e=0===this.state.steps.length?this.state.robotY:this.state.steps[this.state.steps.length-1].y,n=this.state.wallData[e][t];if(0===t?n|=1:t===this.state.gridWidth-1&&(n|=4),0===e?n|=8:e===this.state.gridHeight-1&&(n|=2),0===this.state.steps.length)this.state.steps.push({x:t,y:e,state:0===this.state.states.size?-1:Array.from(this.state.states.keys())[0]});else{var a=this.state.steps[this.state.steps.length-1].state;if(a<0)return;var s=0===this.state.states.size?null:this.state.states.get(a).transitions.get(n);if(s){switch(s.direction){case"Left":t-=1;break;case"Down":e+=1;break;case"Right":t+=1;break;case"Up":e-=1}this.state.steps.push({x:t,y:e,state:s.nextState})}else this.state.steps.push({x:t,y:e,state:-1})}}},{key:"onPlayClicked",value:function(){var t=Object(c.a)(A.a.mark((function t(){var e;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.state).timer){t.next=5;break}this.setState({isPaused:!e.isPaused}),t.next=10;break;case 5:if(!this.state.isFinished){t.next=8;break}return t.next=8,this.onReset(!0)();case 8:this.onStepClicked(!0,!1)(),this.setState({timer:setInterval(this.onStepClicked(!0,!1),750)});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onSkipToEndClicked",value:function(){for(var t=this.state.steps;t.length<1e4&&(0===t.length||-1!==t[t.length-1].state);)this.stepForward();this.update(),this.resetTimer()}},{key:"update",value:function(){var t=this.state.steps[this.state.steps.length-1],e=t.state;this.state.steps.length>1&&-1===e&&(e=this.state.steps[this.state.steps.length-2].state);var n=1e4===this.state.steps.length||-1===t.state;this.setState({robotX:t.x,robotY:t.y,isRunning:!0,isFinished:n,currentState:e}),n&&this.resetTimer()}},{key:"resetTimer",value:function(){this.state.timer&&(clearInterval(this.state.timer),this.setState({timer:null,isPaused:!1}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(et,{states:this.state.states,isRunning:this.state.isRunning,currentState:this.state.currentState,onAddState:this.onAddState,onRemoveState:this.onRemoveState,onStateNameChange:this.onStateNameChange,onAcceptChange:this.onAcceptChange,onAddTransition:this.onAddTransition,onRemoveTransition:this.onRemoveTransition,onTransitionDirectionChange:this.onTransitionDirectionChange,onTransitionStateChange:this.onTransitionStateChange,onExportStates:this.onExportStates}),s.a.createElement(st,{states:this.state.states,width:this.state.gridWidth,height:this.state.gridHeight,wallData:this.state.wallData,robotX:this.state.robotX,robotY:this.state.robotY,mode:this.state.gridAlterationMode,wallSelection:this.state.wallSelection,isRunning:this.state.isRunning,isPaused:this.state.isPaused,isFinished:this.state.isFinished,steps:this.state.steps,currentState:this.state.currentState,timer:this.state.timer,onMoveRobot:this.onMoveRobot,onChangeWalls:this.onChangeWalls,onChangeMode:this.onChangeMode,onWallSelectionChanged:this.onWallSelectionChanged,onSkipToBeginningClicked:this.onReset(!0),onStepBackwardClicked:this.onStepClicked(!1,!0),onPlayClicked:this.onPlayClicked,onStepForwardClicked:this.onStepClicked(!0,!0),onSkipToEndClicked:this.onSkipToEndClicked,onStopClicked:this.onReset(!1)}))}}]),n}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(rt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.ea266126.chunk.js.map